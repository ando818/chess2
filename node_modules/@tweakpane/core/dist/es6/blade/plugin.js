import { ViewProps } from '../common/model/view-props';
import { ParamsParsers } from '../common/params-parsers';
import { forceCast } from '../misc/type-util';
import { createBlade } from './common/model/blade';
export function createBladeController(plugin, args) {
    const ac = plugin.accept(args.params);
    if (!ac) {
        return null;
    }
    const disabled = ParamsParsers.optional.boolean(args.params['disabled']).value;
    const hidden = ParamsParsers.optional.boolean(args.params['hidden']).value;
    return plugin.controller({
        blade: createBlade(),
        document: args.document,
        params: forceCast(Object.assign(Object.assign({}, ac.params), { disabled: disabled, hidden: hidden })),
        viewProps: ViewProps.create({
            disabled: disabled,
            hidden: hidden,
        }),
    });
}
